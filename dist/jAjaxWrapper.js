// jAjaxWrapper v1.0.0 by songhlc@yonyou.com
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).jAjaxWrapper=t()}(this,function(){"use strict";var e,f=(function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n}(e={exports:{}}),e.exports);return function(e,r){var n=e.ajax;e.ajax=function(t){if(!1===t.async)return n(t);var e,o={};if(o.method=t.type,o.url=t.url,o.data=t.data,o.headers={},t.contentType?o.headers["Content-Type"]=t.contentType:o.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",t.beforeSend&&(e={setRequestHeader:function(e,t){o.headers[e]=t}},t.beforeSend(e)),0<=o.headers["Content-Type"].indexOf("x-www-form-urlencoded")&&(o.data=function(e){var n={};"string"==typeof e&&0===e.indexOf("{")?n=JSON.parse(e):"object"===f(e)&&(n=e);var o="";return Object.keys(n).forEach(function(e,t){o+=0<t?"&"+e+"="+n[e]:e+"="+n[e]}),o}(t.data)),!t.success)return new Promise(function(t,n){r(o).then(function(e){t(e)}).catch(function(e){n(e)})});r(o).then(function(e){t.success(e.data,"success",e)}).catch(function(e){t.error&&t.error(e)})}}});
//# sourceMappingURL=jAjaxWrapper.js.map
